{"version":3,"sources":["map.js"],"names":["canvas","document","getElementById","ctx","getContext","width","window","innerWidth","height","start","map","islandAssets","Object","keys","island_assets","i","key","island","type","x","getRandomInt","y","xx","yy","swidth","getRandomFloat","sheigth","img","Image","imgsrc","src","naturalWidth","naturalHeight","push","cloudAssets","cloud_assets","cloud","square","drawSquare","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","font","fillStyle","fillText","mouseX","mouseY","isMouseDown","max","Math","floor","random","beginMove","e","console","log","keyCode","forEach","element","offsetX","offsetY","endMove","seaBG","fillRect","draw","time","drawElements","el","save","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawImage","restore","step","requestAnimationFrame","addEventListener"],"mappings":"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","file":"map.b79b8e2e.js","sourceRoot":"..","sourcesContent":["import cloud_assets from \"./img/clouds/*.png\";\nimport island_assets from \"./img/islands/*.png\";\n// import path from 'path'\n// import fs from 'fs'\n// const fs = require(\"fs\")\n\n// //joining path of directory \n// const directoryPath = path.join(__dirname, '/img/islands');\n// //passsing directoryPath and callback function\n\n// let islands = [];\n// for(var key in island_assets){\n//     islands.push(island_assets[key]);}\n\n\nconst canvas = document.getElementById('map');\nconst ctx = canvas.getContext('2d');\ncanvas.width = window.innerWidth;\ncanvas.height = 800;\n\nlet start = 0;\n\nlet map =[];\nlet islandAssets = Object.keys(island_assets)\nlet i = 0;\nfor(const key of islandAssets){\n    i++;\n    let island ={\n        type:\"island\",\n        x:getRandomInt(canvas.width) * i % (3 * canvas.width),\n        y:getRandomInt(canvas.height) * i % (3 * canvas.height),\n        xx:null,\n        yy:null,\n        swidth:getRandomFloat(),\n        sheigth:100*getRandomInt(10),\n        img: new Image(),\n        imgsrc: island_assets[key]\n        }\n        //! set fields that can be set in the object\n    island.img.src = island.imgsrc;\n    island.width = island.img.naturalWidth;\n    island.height = island.img.naturalHeight;\n map.push(island);\n}\n\n\nlet cloudAssets = Object.keys(cloud_assets);\ni = 0;\nfor(const key of cloudAssets){\n    i+=5;\n    let cloud ={\n        type:\"cloud\",\n        x:getRandomInt(canvas.width) *i % (3 * canvas.width),\n        y:getRandomInt(canvas.height)*i % (3 * canvas.height),\n        xx:null,\n        yy:null,\n        swidth:getRandomFloat(),\n        sheigth:getRandomInt(10),\n        img: new Image(),\n        imgsrc: cloud_assets[key]\n        }\n        //! set fields that can be set in the object\n    cloud.img.src = cloud.imgsrc;\n    cloud.width = cloud.img.naturalWidth;\n    cloud.height = cloud.img.naturalHeight;\n map.push(cloud);\n}\n\nlet square ={\n    type:\"square\",\n        x:0,\n        y:0,\n        xx:null,\n        yy:null,\n        swidth:100,\n        sheigth:100\n}\nmap.push(square);\nfunction drawSquare(){\n    // ctx.clearRect(0,canvas.width, 0, canvas.height)\n    ctx.strokeStyle = 'rgba(10, 100, 190, 0.05)';\n    ctx.lineWidth = 1;\n    ctx.beginPath(); \n    for(let i = square.y+0.5; i <= canvas.height; i += 60){\n         \n        ctx.moveTo(0,i);\n        ctx.lineTo(canvas.width,i);\n        ctx.stroke();\n    }\n    for(let i = square.x; i <= 2*canvas.width; i += 60){\n   \n        ctx.moveTo(i*0.7,0);\n        ctx.lineTo(i,canvas.width);\n        ctx.stroke();\n        \n    }\n\n    ctx.font = \"40pt Calibri\";\n    ctx.fillStyle =\"black\";\n    ctx.fillText(square.x, 0, 50); \n    ctx.fillText(square.y, 100, 50);   \n}\n\n\n\n\nlet isMouseDown = false;\nlet mouseX;\nlet mouseY;\n\n// let island = {x: 0, y: 0}; \nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\nfunction getRandomFloat() {\n  return Math.random();\n}\ncanvas.addEventListener(\"mousedown\", beginMove);\ncanvas.addEventListener(\"mouseup\", endMove);\ndocument.addEventListener(\"keydown\", beginMove);\ndocument.addEventListener(\"keyup\", endMove);\nfunction beginMove(e){\n    console.log(e.keyCode);\n    if(e.keyCode  === 32 || e.type == \"mousedown\"){\n        isMouseDown = true;\n        map.forEach(element =>{\n            let offsetX = mouseX-element.x;\n            let offsetY = mouseY-element.y;\n\n            element.xx = offsetX;\n            element.yy = offsetY;\n\n        })\n    }\n}\nfunction endMove(e){\n    isMouseDown = false;              \n}\ncanvas.addEventListener(\"mouseout\", e=>{\n    isMouseDown = false;              \n});\n\n\ncanvas.addEventListener(\"mousemove\", e=>{  \n    \n     mouseX = e.offsetX;\n     mouseY = e.offsetY;\n\n    if(isMouseDown){\n        draw();\n        map.forEach(element=> {\n            // console.debug(element.el.xx +\" \"+ element.el.yy)\n           \n            element.x = (element.xx-mouseX)*-1;\n            element.y = (element.yy-mouseY)*-1;\n        })\n    }\n});\nfunction seaBG(){\n    ctx.fillStyle = \"rgb(30, 181, 200)\"; \n    ctx.fillRect(0,0,canvas.width,1500);\n}\n\nfunction draw(time){\n    //ctx.\n    // ctx.fillRect(0,0,canvas.width-100,1000)\n  \n    seaBG();\n    drawSquare();\n    drawElements(time);\n  \n}\n\nfunction drawElements(time){\n\n map.forEach(el =>{ \n     if(el.type === \"island\" || el.type === \"cloud\"){\n        ctx.save();\n            if(el.type===\"cloud\"){\n                ctx.shadowColor = \"rgba(10,20,20,0.3)\";\n                ctx.shadowBlur = 10;\n                ctx.shadowOffsetX = -10;\n                ctx.shadowOffsetY = 160;\n               \n                if( el.x < square.x-el.width-canvas.width ){\n                    el.x = square.x + window.innerWidth + 100;\n                }\n                ctx.drawImage(el.img,el.x, el.y, (el.img.naturalWidth-10) * el.swidth, (el.img.naturalHeight-10) * el.swidth);\n                el.x -= time * el.swidth/50;\n            }\n        // drawXY(el,el.x,el.y);\n        ctx.restore();\n        ctx.drawImage(el.img,el.x, el.y, el.img.naturalWidth * el.swidth, el.img.naturalHeight * el.swidth);\n       \n          \n} });\n\nfunction drawXY(element,x,y){\n    ctx.font = \"40pt Calibri\";\n    ctx.fillStyle =\"black\";\n    ctx.fillText(element.x, x, y);\n    ctx.fillText(element.y, x+100, y);\n}\n\n}\nfunction step(time){\n    let progress = (time - start)%10;\n    // ctx.clearRect(0,0,canvas.width, canvas.height);\n    draw(progress);\n   \n    requestAnimationFrame(step);\n}\nwindow.requestAnimationFrame(step);\n// setInterval(function(){ \n//     draw();\n// }, 1);\n\n// window.onload( draw());"]}