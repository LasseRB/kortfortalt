{"version":3,"sources":["map.js"],"names":["canvas","document","getElementById","ctx","getContext","width","window","innerWidth","height","map","i","new_x","getRandomInt","new_y","el","x","y","xx","yy","elImg","Image","push","isMouseDown","MdX","MdY","max","Math","floor","random","addEventListener","e","forEach","element","offsetX","offsetY","draw","console","debug","seaBG","sea","src","onload","fillStyle","fillRect","drawIsland","island","drawImage"],"mappings":"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","file":"map.27237bf4.js","sourceRoot":"..","sourcesContent":["\nconst canvas = document.getElementById('map');\nconst ctx = canvas.getContext('2d');\ncanvas.width = window.innerWidth;\ncanvas.height = 800;\n\nlet map =[];\nfor(let i = 0; i < 3; i++){\n    let new_x = getRandomInt(canvas.width);\n    let new_y = getRandomInt(canvas.height);\n    let el = {x:new_x,y:new_y, xx:new_x, yy:new_y}\n    let elImg = new Image();\n map.push({el,elImg});\n}\n\n\n\nlet isMouseDown = false;\nlet MdX = 0;\nlet MdY = 0;\n\n// let island = {x: 0, y: 0}; \nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\ncanvas.addEventListener(\"mousedown\", e=>{\n     isMouseDown = true;\n     map.forEach(element =>{\n        let offsetX = e.offsetX-element.el.x;\n        let offsetY = e.offsetY-element.el.y;\n\n        element.el.xx = offsetX;\n        element.el.yy = offsetY;\n\n     })\n});\n\ncanvas.addEventListener(\"mouseup\", e=>{\n    isMouseDown = false;              \n});\ncanvas.addEventListener(\"mouseout\", e=>{\n    isMouseDown = false;              \n});\n\n\ncanvas.addEventListener(\"mousemove\", e=>{  \n    \n    let x = e.offsetX;\n    let y = e.offsetY;\n\n    if(isMouseDown){\n        draw();\n        map.forEach(element=> {\n            console.debug(element.el.xx +\" \"+ element.el.yy)\n            element.el.x = (element.el.xx-x)*-1;\n            element.el.y = (element.el.yy-y)*-1;\n        })\n    }\n});\nfunction seaBG(){\n    var sea = new Image();\n    sea.src = \"img/sea_small.jpg\";\n    \n    sea.onload = function (){\n        // var pattern = ctx.createPattern(sea,'repeat');\n        ctx.fillStyle = \"rgb(30, 181, 200)\"; \n        ctx.fillRect(0,0,canvas.width,1500);\n     \n    }   \n}\n\nfunction draw(){\n    //ctx.\n    // ctx.fillRect(0,0,canvas.width-100,1000)\n    seaBG();\n    drawIsland();\n      \n}\n\nfunction drawIsland(){\n\n map.forEach(island =>{\n        island.elImg.src = \"img/volcano.png\";\n        island.elImg.onload = function (){\n            ctx.drawImage(island.elImg,island.el.x, island.el.y);\n        };\n    });\n}\n\ndraw();\n"]}